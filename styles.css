:root{
  --red:#e50914;
  --red-glow:#ff2a3a;
  --bg:#0b0b0d;
  --panel:#16161a;
  --text:#e6e6e6;
  --muted:#9aa0a6;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(1200px 600px at 20% 0%, #1a1a1f 0%, #0b0b0d 60%, #050507 100%),
    linear-gradient(180deg, rgba(229,9,20,0.06), rgba(0,0,0,0));
}

.header{
  padding:24px 20px 8px;
  text-align:center;
}
.title{
  font-family:'Creepster', cursive;
  color:var(--red);
  letter-spacing:2px;
  font-size:72px;
  margin:0 0 6px;
  text-shadow:0 0 12px var(--red), 0 0 28px var(--red-glow);
}

.lights{
  list-style:none;
  display:flex;
  justify-content:center;
  gap:14px;
  padding:0;
  margin:8px auto 0;
}
.lights li{
  width:12px;height:12px;border-radius:50%;
  background:var(--red);
  box-shadow:0 0 6px var(--red-glow), 0 0 16px var(--red);
  animation:flicker 2.2s infinite ease-in-out;
}
.lights li:nth-child(3n){background:#39ff14;box-shadow:0 0 6px #39ff14,0 0 16px #39ff14}
.lights li:nth-child(5n){background:#00e5ff;box-shadow:0 0 6px #00e5ff,0 0 16px #00e5ff}
.lights li.off{opacity:.25;box-shadow:none;filter:saturate(.3)}
@keyframes flicker{
  0%,100%{opacity:1} 50%{opacity:.6}
}

.main{max-width:1200px;margin:0 auto;padding:24px}
.info{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-bottom:12px}
.badge{background:var(--panel);border:1px solid #2a2a33;padding:8px 12px;border-radius:10px;color:var(--muted)}

.stage{display:flex;justify-content:center;align-items:center;margin:12px 0 8px}
.hangman{width:480px;height:auto}
.hangman line,.hangman circle{
  stroke:var(--text);
  stroke-width:4;
}
.gallows line{stroke:#7b7b85;stroke-width:6}
.part.hidden{opacity:0}
.part{stroke:var(--red);filter:drop-shadow(0 0 6px var(--red));transition:opacity .3s ease}

.word{display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin:18px 0}
.word .slot{min-width:42px;height:58px;border-bottom:2px solid #3a3a45;display:flex;align-items:center;justify-content:center;font-size:32px}
.word .space{border-bottom-color:transparent;min-width:24px}

.keyboard{display:grid;grid-template-columns:repeat(14,1fr);gap:10px;max-width:1080px;margin:20px auto}
.key{background:var(--panel);color:var(--text);border:1px solid #2b2b32;border-radius:10px;padding:14px 0;cursor:pointer;user-select:none;transition:.15s;font-size:20px}
.key:hover{border-color:var(--red);box-shadow:0 0 8px rgba(229,9,20,.4)}
.key[disabled]{opacity:.35;cursor:not-allowed}

.controls{display:flex;justify-content:center;margin:20px 0}
.btn{background:var(--red);color:white;border:none;border-radius:10px;padding:10px 16px;font-weight:600;cursor:pointer;box-shadow:0 0 10px rgba(229,9,20,.5)}
.btn:hover{filter:brightness(1.1)}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);backdrop-filter:blur(2px);z-index:1000}
.modal.hidden{display:none}
.modal-content{background:#111318;border:1px solid #282a33;border-radius:14px;padding:20px 22px;max-width:560px;width:92%;position:relative;z-index:1001}
.modal-content h2{margin:0 0 8px;font-family:'Creepster',cursive;color:var(--red);text-shadow:0 0 10px var(--red)}
.footer{opacity:1;text-align:center;padding:16px 0;color:var(--muted)}

.input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2a2a33;background:#0f1116;color:var(--text);margin:8px 0 6px}
.input.invalid{border-color:var(--red);box-shadow:0 0 8px rgba(229,9,20,.5)}
.row{display:flex;align-items:center;gap:8px;color:var(--muted)}

body{position:relative}
body::before{
  content:"";
  position:fixed;inset:0;z-index:0;pointer-events:none;
  background:
    radial-gradient(500px 350px at 20% 20%, rgba(255,40,60,.18), transparent 70%),
    radial-gradient(600px 420px at 70% 30%, rgba(255,0,50,.12), transparent 75%),
    radial-gradient(800px 520px at 40% 80%, rgba(255,60,80,.10), transparent 78%);
  filter:blur(16px) saturate(1.2);
  animation:smoke 12s infinite alternate ease-in-out;
}
body::after{
  content:"";
  position:fixed;inset:-6% -6%;z-index:0;pointer-events:none;
  background:
    radial-gradient(140px 220px at 28% 22%, rgba(255,60,80,.35), transparent 60%),
    radial-gradient(200px 160px at 62% 30%, rgba(255,0,40,.30), transparent 65%),
    radial-gradient(240px 180px at 78% 68%, rgba(255,90,120,.26), transparent 66%),
    radial-gradient(180px 140px at 18% 78%, rgba(255,20,40,.28), transparent 64%),
    radial-gradient(220px 180px at 46% 56%, rgba(255,40,70,.22), transparent 70%);
  filter:blur(28px) saturate(1.5) contrast(1.05);
  animation:smokeMove 20s linear infinite, smokePulse 8s ease-in-out infinite;
  will-change:transform;
  mix-blend-mode:screen;
}
@keyframes smoke{
  0%{transform:translate3d(0,0,0)}
  50%{transform:translate3d(-20px,10px,0)}
  100%{transform:translate3d(20px,-10px,0)}
}
@keyframes smokeMove{
  0%{transform:translate3d(0,0,0) scale(1) rotate(0deg)}
  25%{transform:translate3d(-20px,12px,0) scale(1.05) rotate(2deg)}
  50%{transform:translate3d(22px,-14px,0) scale(1.08) rotate(-3deg)}
  75%{transform:translate3d(-12px,-6px,0) scale(1.03) rotate(1deg)}
  100%{transform:translate3d(0,0,0) scale(1) rotate(0deg)}
}
@keyframes smokePulse{
  0%,100%{opacity:.75}
  50%{opacity:.55}
}

.header,.main,.footer{position:relative;z-index:1}

@media (max-width:520px){
  .keyboard{grid-template-columns:repeat(7,1fr)}
  .hangman{width:300px}
  .title{font-size:56px}
}
